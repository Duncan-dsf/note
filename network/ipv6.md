> http://www.52im.net/thread-1605-1-1.html

### ipv6报文头

**IPv6报文头部更精简了，字段更少了，对比起IPv4，有以下几个地方值得注意：**

- IPv6报文头部是定长（固定为40字节），IPv4报文头部是变长的。这个意味着，写代码处理IPv6数据报文的效率会提高很多：
- IPv6中Hop Limit字段含义类似IPv4的TTL；
- IPv6中的Traffic Class字段含义类似IPv4中的TOS（Type Of Service）；
- IPv6的报文头部取消了校验和字段：取消这个字段也是对IPv4协议的一个改进。当IPv4报文在网路间传输，每经过一个路由器转发就是修改TTL字段，就需要重新计算校验和，而由于数据链路层L2和传输层L4的校验已经足够强壮，因此IPv6取消这个字段会提高路由器的转发效率。值得一提的是，在IPv6协议下，传输层L4协议UDP、TCP是强制需要进行校验和的（IPv4是可选的）；
- IPv6报文头部中的Next Header字段表示“承载上一层的协议类型”或者“扩展头部类型”。

### ipv6地址格式

- 一个IPv6的地址使用冒号十六进制表示方法：128位的地址每16位分成一段，每个16位的段用十六进制表示并用冒号分隔开
- 例如：
  一个普通公网IPv6地址：2001:0D12:0000:0000:02AA:0987:FE29:9871

### ipv6地址类型

**IPv6地址分三种类型：**

- 单播，对应于IPv4的普通公网和私网地址；
- 组播，对应于IPv4的组播（多播）地址；
- 任播，IPv6新增的地址概念类型。

### IPv6单播地址

- 全球单播
  - 前3位001
  - 16进制表示2000::/3
  - 类似于公网ip
- 链路本地
  - 前十位 1111-1110-10后54位0，最后64位接口id
  - 16进制表示fe80::/10
  - 一个接口一定有一个链路本地地址
- 唯一本地地址
- 站点本地地址
- 回环地址
  - ::1
- 过度地址